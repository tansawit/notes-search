{"version":3,"sources":["index.js"],"names":["style","rel","href","ESSearch","props","onChange","event","setState","target","name","value","state","query","hits","results","this","getQueryResults","interval","setInterval","clearInterval","axios","get","endpoint","then","res","data","total","className","as","type","icon","fluid","placeholder","class","map","result","Header","_source","title","Content","dangerouslySetInnerHTML","__html","highlight","text","join","React","Component","ReactDOM","render","document","getElementById"],"mappings":"0RAOMA,EACF,0BACIC,IAAI,aACJC,KAAK,mEAGPC,E,YACF,WAAYC,GAAQ,IAAD,8BACf,4CAAMA,KAkCVC,SAAW,SAAAC,GACP,EAAKC,SAAL,eACKD,EAAME,OAAOC,KAAOH,EAAME,OAAOE,SAnCtC,EAAKC,MAAQ,CACTC,MAAO,MACPC,KAAM,EACNC,QAAS,IALE,E,iFASE,IAAD,OAChBC,KAAKC,kBACLD,KAAKE,SAAWC,aAAY,kBAAM,EAAKF,oBAAmB,O,6CAG1DG,cAAcJ,KAAKE,Y,wCAEJ,IAAD,OACRL,EAAUG,KAAKJ,MAAfC,MACFA,GACAQ,IAAMC,IAAIC,qCAA4BV,GAAOW,MAAK,SAAAC,GAE1CA,EAAIC,KACJ,EAAKlB,SAAS,CACVM,KAAMW,EAAIC,KAAKZ,KAAKa,MACpBZ,QAASU,EAAIC,KAAKZ,KAAKA,OAG3B,EAAKN,SAAS,CACVM,KAAM,EACNC,QAAS,U,+BAYzB,OACI,6BACI,yBAAKa,UAAU,OACX,kBAAC,IAAD,CAAQA,UAAU,SAASC,GAAG,MAA9B,oBAIJ,yBAAKD,UAAU,OACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIE,KAAK,OACLpB,KAAK,QACLC,MAAOK,KAAKJ,MAAMC,MAClBP,SAAUU,KAAKV,SACfyB,KAAK,SACLC,OAAK,EACLC,YAAY,kBAIxB,yBAAKL,UAAU,YACX,kBAAC,IAAD,CAAQA,UAAU,SAASC,GAAG,MACzBb,KAAKJ,MAAME,KADhB,UAIJ,yBAAKoB,MAAM,oCACNlB,KAAKJ,MAAMG,QAAQoB,KAAI,SAAAC,GAAM,OAC1B,kBAAC,IAAD,KACI,kBAAC,IAAKC,OAAN,KACI,gCAASD,EAAOE,QAAQC,QAE5B,kBAAC,IAAKC,QAAN,KACI,yBACIC,wBAAyB,CACrBC,OAAQN,EAAOO,UAAUC,KAAKC,KAC1B,0B,GA7ErBC,IAAMC,WA4F7BC,IAASC,OACL,6BACKhD,EACD,kBAACG,EAAD,OAEJ8C,SAASC,eAAe,W","file":"static/js/main.7d3182d5.chunk.js","sourcesContent":["import ReactDOM from \"react-dom\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Card, Header, Form, Input, Icon } from \"semantic-ui-react\";\n\nlet endpoint = \"http://localhost:3000/\";\n\nconst style = (\n    <link\n        rel=\"stylesheet\"\n        href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\"\n    />\n);\nclass ESSearch extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            query: \"how\",\n            hits: 0,\n            results: []\n        };\n    }\n\n    componentDidMount() {\n        this.getQueryResults();\n        this.interval = setInterval(() => this.getQueryResults(), 100);\n    }\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n    getQueryResults() {\n        let { query } = this.state;\n        if (query) {\n            axios.get(endpoint + \"search?term=\" + query).then(res => {\n                // console.log(res[\"data\"][\"hits\"][\"hits\"]);\n                if (res.data) {\n                    this.setState({\n                        hits: res.data.hits.total,\n                        results: res.data.hits.hits\n                    });\n                } else {\n                    this.setState({\n                        hits: 0,\n                        results: []\n                    });\n                }\n            });\n        }\n    }\n    onChange = event => {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    };\n    render() {\n        return (\n            <div>\n                <div className=\"row\">\n                    <Header className=\"header\" as=\"h1\">\n                        Search My Notes\n                    </Header>\n                </div>\n                <div className=\"row\">\n                    <Form>\n                        <Input\n                            type=\"text\"\n                            name=\"query\"\n                            value={this.state.query}\n                            onChange={this.onChange}\n                            icon=\"search\"\n                            fluid\n                            placeholder=\"Enter Query\"\n                        />\n                    </Form>\n                </div>\n                <div className=\"hitCount\">\n                    <Header className=\"header\" as=\"h2\">\n                        {this.state.hits} Hits\n                    </Header>\n                </div>\n                <div class=\"ui four doubling stackable cards\">\n                    {this.state.results.map(result => (\n                        <Card>\n                            <Card.Header>\n                                <strong>{result._source.title}</strong>\n                            </Card.Header>\n                            <Card.Content>\n                                <div\n                                    dangerouslySetInnerHTML={{\n                                        __html: result.highlight.text.join(\n                                            \"<br><br>\"\n                                        )\n                                    }}\n                                />\n                            </Card.Content>\n                        </Card>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n\n// ========================================\n\nReactDOM.render(\n    <div>\n        {style}\n        <ESSearch />\n    </div>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}